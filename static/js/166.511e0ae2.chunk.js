"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[166],{650:function(e,t,n){n.d(t,{Df:function(){return s},t2:function(){return p},tx:function(){return d},z1:function(){return f},zv:function(){return l}});var r=n(861),a=n(757),u=n.n(a),c=n(243),o="7a96b7d3f2fd15994813e6eeb1d3cb9e",i="https://api.themoviedb.org/3",s=function(){var e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/trending/movie/week?api_key=".concat(o,"&page=1&language=en-US&include_adult=false"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function f(e,t){return c.Z.get("".concat(i,"/search/movie"),{params:{api_key:o,query:e,page:t}})}var p=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(i,"/movie/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function l(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(i,"/movie/").concat(t,"/credits"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(i,"/movie/").concat(t,"/reviews"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},166:function(e,t,n){n.r(t);var r=n(861),a=n(439),u=n(757),c=n.n(u),o=n(791),i=n(87),s=n(650),f=n(166),p=n(184);t.default=function(){var e=(0,i.lr)(),t=(0,a.Z)(e,2),n=t[0],u=t[1],l=(0,o.useState)([]),v=(0,a.Z)(l,2),d=v[0],h=v[1],m=(0,o.useState)(null),x=(0,a.Z)(m,2),w=x[0],g=x[1],k=(0,o.useState)(!1),Z=(0,a.Z)(k,2),b=Z[0],y=Z[1],S=(0,o.useState)(""),_=(0,a.Z)(S,2),j=_[0],q=_[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),t=n.get("query")||"default_query",e.prev=2,e.next=5,(0,s.z1)(t);case 5:r=e.sent,h(r),g(null),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),g("Something went wrong"),console.error(e.t0);case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,p.jsxs)("div",{children:[(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u({query:j})},children:[(0,p.jsx)("input",{type:"text",value:j,autoComplete:"off",autoFocus:!0,placeholder:"Enter movie title",name:"movie",onChange:function(e){q(e.target.value)}}),(0,p.jsx)("button",{type:"submit",children:"Search"})]}),w&&(0,p.jsx)("div",{children:w}),b&&"Loading ",d&&(0,p.jsx)(f.default,{list:d})]})}}}]);
//# sourceMappingURL=166.511e0ae2.chunk.js.map